{"version":3,"sources":["../src/createMcpSdk.ts"],"names":[],"mappings":";AAYO,IAAI,eACT,MACA,CACE,YAKG;AACH,MAAI,YAAY,OAAO,SAA6B,UAAa;AAC/D,QAAI,QAAQ,MAAM,QAAQ,eAAe;AAEzC,WAAO,QAAQ;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAAA,EACH;AAEA,MAAI,QAAQ,OAAO,KAAa,MAA8B,UAAa;AACzE,QAAI,UAAU,IAAI,IAAI,cAAc,IAAI;AACxC,WAAO,UAAU,SAAS,KAAU;AAAA,EACtC;AAEA,SAAO,OAAO,OAAO,WAAW;AAAA,IAC9B;AAAA,IACA;AAAA,EACF,CAAC;AACH","sourcesContent":["import {\n  MetorialMcpSession,\n  MetorialMcpSessionInit,\n  MetorialMcpToolManager\n} from '@metorial/mcp-session';\n\nexport interface McpSDK {\n  mcp: {\n    createSession(init: MetorialMcpSessionInit): MetorialMcpSession;\n  };\n}\n\nexport let createMcpSdk =\n  <I = void>() =>\n  <T>(\n    handler: (d: {\n      session: MetorialMcpSession;\n      tools: MetorialMcpToolManager;\n      input: I;\n    }) => Promise<T>\n  ) => {\n    let ofSession = async (session: MetorialMcpSession, input: I) => {\n      let tools = await session.getToolManager();\n\n      return handler({\n        session,\n        tools,\n        input\n      });\n    };\n\n    let ofSdk = async (sdk: McpSDK, init: MetorialMcpSessionInit, input: I) => {\n      let session = sdk.mcp.createSession(init);\n      return ofSession(session, input as I);\n    };\n\n    return Object.assign(ofSession, {\n      ofSession,\n      ofSdk\n    });\n  };\n"]}