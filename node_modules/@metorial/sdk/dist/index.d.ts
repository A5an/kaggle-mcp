import * as _metorial_mcp_session from '@metorial/mcp-session';
import { MetorialMcpSessionInit, MetorialMcpSession, MetorialMcpSessionInitServerDeployments } from '@metorial/mcp-session';
export { MetorialMcpSession, MetorialMcpSessionInit, MetorialMcpSessionInitServerDeployments } from '@metorial/mcp-session';
import * as _metorial_core from '@metorial/core';
import { MetorialCoreSDK, createMetorialCoreSDK } from '@metorial/core';
export * from '@metorial/core';

interface RunResult {
    text: string;
    steps: number;
    toolResponses?: any;
}

declare class Metorial implements MetorialCoreSDK {
    private readonly sdk;
    constructor(init: Parameters<typeof createMetorialCoreSDK>[0]);
    get instance(): _metorial_core.MetorialInstanceEndpoint;
    get secrets(): _metorial_core.MetorialSecretsEndpoint;
    get servers(): _metorial_core.MetorialServersEndpoint & {
        variants: _metorial_core.MetorialServersVariantsEndpoint;
        versions: _metorial_core.MetorialServersVersionsEndpoint;
        deployments: _metorial_core.MetorialServersDeploymentsEndpoint;
        implementations: _metorial_core.MetorialServersImplementationsEndpoint;
        errors: any;
        runs: _metorial_core.MetorialServerRunsEndpoint;
        capabilities: _metorial_core.MetorialServersCapabilitiesEndpoint;
    };
    get sessions(): _metorial_core.MetorialSessionsEndpoint & {
        messages: _metorial_core.MetorialSessionsMessagesEndpoint;
        connections: _metorial_core.MetorialSessionsConnectionsEndpoint;
    };
    get oauth(): typeof this$1.sdk.oauth & {
        waitForCompletion: (sessions: Array<{
            id: string;
        }>, options?: {
            pollInterval?: number;
            timeout?: number;
        }) => Promise<void>;
    };
    get _config(): {
        apiVersion: "2025-01-01-pulsar";
        apiKey: `${"metorial_uk_" | "metorial_mk_" | "metorial_sk_" | "metorial_ak_" | "metorial_pk_"}${string}` | string;
        headers?: Record<string, string>;
        apiHost?: string;
        mcpHost?: string;
    } & {
        apiHost: string;
    };
    get mcp(): {
        createSession: (init: MetorialMcpSessionInit) => MetorialMcpSession;
        withSession: <T>(init: MetorialMcpSessionInit, action: (session: MetorialMcpSession) => Promise<T>) => Promise<T>;
        withProviderSession: <P, T>(provider: (session: MetorialMcpSession) => Promise<P>, init: MetorialMcpSessionInit & {
            streaming?: boolean;
        }, action: (input: P & {
            session: MetorialMcpSession;
            getSession: MetorialMcpSession["getSession"];
            getCapabilities: MetorialMcpSession["getCapabilities"];
            getClient: MetorialMcpSession["getClient"];
            getServerDeployments: MetorialMcpSession["getServerDeployments"];
            getToolManager: MetorialMcpSession["getToolManager"];
        }) => Promise<T>) => Promise<T>;
        createConnection: (init: MetorialMcpSessionInitServerDeployments[number]) => Promise<_metorial_mcp_session.MetorialMcpClient>;
    };
    createMcpConnection(init: MetorialMcpSessionInitServerDeployments[number]): Promise<_metorial_mcp_session.MetorialMcpClient>;
    withSession<T>(init: MetorialMcpSessionInit, action: (session: MetorialMcpSession) => Promise<T>): Promise<T>;
    withProviderSession<P, T>(provider: (session: MetorialMcpSession) => Promise<P>, init: MetorialMcpSessionInit & {
        streaming?: boolean;
    }, action: (input: P & {
        session: MetorialMcpSession;
        getSession: MetorialMcpSession['getSession'];
        getCapabilities: MetorialMcpSession['getCapabilities'];
        getClient: MetorialMcpSession['getClient'];
        getServerDeployments: MetorialMcpSession['getServerDeployments'];
        getToolManager: MetorialMcpSession['getToolManager'];
    }) => Promise<T>): Promise<T>;
    private withStreamingSession;
    private inferProvider;
    waitForOAuthCompletion(sessions: Array<{
        id: string;
    }>, options?: {
        pollInterval?: number;
        timeout?: number;
    }): Promise<void>;
    run(config: {
        message: string;
        serverDeployments: string | MetorialMcpSessionInitServerDeployments;
        model: string;
        maxSteps?: number;
        tools?: string[];
        [key: string]: any;
    }): Promise<RunResult>;
}

export { Metorial, type RunResult };
